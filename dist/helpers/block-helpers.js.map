{"version":3,"sources":["../../src/helpers/block-helpers.ts"],"sourcesContent":["import {\n  RichTextItemResponse,\n  TextRichTextItemResponse\n} from '@notionhq/client/build/src/api-endpoints'\nimport cn from 'classnames'\n\nimport { AnnotationIgnoreField } from '../interface'\n\nexport function generateTextAnnotationClasses(\n  annotations: TextRichTextItemResponse['annotations'],\n  ignore?: AnnotationIgnoreField[]\n): string {\n  return cn({\n    'font-semibold': annotations.bold && !ignore?.includes('bold'),\n    italic: annotations.italic && !ignore?.includes('italic'),\n    'underline underline-offset-4': annotations.underline && !ignore?.includes('underline'),\n    'line-through': annotations.strikethrough && !ignore?.includes('strikethrough'),\n    'font-mono text-[85%] bg-[#ececec] text-[#067b26] p-[1px_4px_2px_4px] rounded break-words border-[1px_solid_#ddd]':\n      annotations.code && !ignore?.includes('code'),\n    [mapColorClass(annotations.color)]: true && !ignore?.includes('color')\n  })\n}\n\nexport function getJoinedRichText(richTextArr?: RichTextItemResponse[]): string {\n  if (!richTextArr || !richTextArr.length) return ''\n  const textArr = richTextArr.map((richText: RichTextItemResponse) => richText.plain_text)\n  return textArr.join('')\n}\n\nexport function mapColorClass(color: string): string {\n  switch (color) {\n    case 'gray':\n      return 'text-gray-500'\n    case 'brown':\n      return 'text-brown-500'\n    case 'orange':\n      return 'text-orange-500'\n    case 'yellow':\n      return 'text-yellow-500'\n    case 'green':\n      return 'text-emerald-600'\n    case 'blue':\n      return 'text-blue-500'\n    case 'purple':\n      return 'text-purple-500'\n    case 'pink':\n      return 'text-pink-500'\n    case 'red':\n      return 'text-red-500'\n    // Highlight\n    case 'gray_background':\n      return 'bg-gray-100'\n    case 'brown_background':\n      return 'bg-brown-100'\n    case 'orange_background':\n      return 'bg-orange-100'\n    case 'yellow_background':\n      return 'bg-amber-100'\n    case 'green_background':\n      return 'bg-[#deffdb]'\n    case 'blue_background':\n      return 'bg-blue-100'\n    case 'purple_background':\n      return 'bg-purple-100'\n    case 'pink_background':\n      return 'bg-pink-100'\n    case 'red_background':\n      return 'bg-red-100'\n    default:\n      return ''\n  }\n}\n\nexport function getIndentLevelClass(opts: {\n  level: number\n  isList?: boolean\n  insideList?: boolean\n  insideColumn?: boolean\n  insideQuote?: boolean // also applied for callout\n}): string {\n  const { level, isList, insideList, insideColumn, insideQuote } = opts\n  const reduceVSpace = insideList || insideColumn || insideQuote\n  const reducedVSpaceClass = 'my-2'\n\n  switch (level) {\n    case 0:\n      return cn('pl-0', {\n        'my-3': !insideList && !insideColumn,\n        [reducedVSpaceClass]: insideList && !insideColumn,\n        'my-0': insideColumn\n      })\n    case 1:\n      return cn('pl-4', {\n        [reducedVSpaceClass]: reduceVSpace,\n        'my-3': !reduceVSpace,\n        '!pl-6': insideList && !isList\n      })\n    case 2:\n      return cn('pl-6', {\n        [reducedVSpaceClass]: reduceVSpace,\n        'my-3': !reduceVSpace,\n        '!pl-4': insideList && insideQuote\n      })\n    case 3:\n      return cn('pl-8', {\n        [reducedVSpaceClass]: reduceVSpace,\n        'my-3': !reduceVSpace,\n        '!pl-6': insideList && insideQuote\n      })\n  }\n}\n\nexport function convertHeadingIdToSlug(\n  headingId: string,\n  richTextArr: RichTextItemResponse[]\n): string {\n  const plainText = getJoinedRichText(richTextArr)\n  return plainText.split(' ').join('-').toLowerCase() + `-${headingId.slice(0, 3)}`\n}\n\nexport function getYoutubeVideoId(url?: string): string | null {\n  if (!url) return null\n  let videoId: string | null = null\n  const patterns = [\n    /(?:https?:\\/\\/(?:www\\.)?)?youtube\\.com\\/watch\\?(?:.*&)?v=([^&#]+)/i,\n    /(?:https?:\\/\\/(?:www\\.)?)?youtube\\.com\\/embed\\/([^/?]+)/i,\n    /(?:https?:\\/\\/(?:www\\.)?)?youtube\\.com\\/v\\/([^/?]+)/i,\n    /(?:https?:\\/\\/(?:www\\.)?)?youtube\\.com\\/user\\/[^/?]+\\/?\\?v=([^&]+)/i,\n    /(?:https?:\\/\\/(?:www\\.)?)?youtu\\.be\\/([^/?]+)/i\n  ]\n  for (let i = 0; i < patterns.length; i++) {\n    const match = url.match(patterns[i])\n    if (match && match[1]) {\n      videoId = match[1]\n      break\n    }\n  }\n  return videoId\n}\n"],"mappings":"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","names":[]}